{"version":3,"sources":["../src/script.jsx"],"names":[],"mappings":"AAAA;;;;AACA,IAAI,0BAA0B,MAAM,MAAN,CAAa,kBAA3C;;AAEA,IAAI,QAAQ,MAAM,WAAN,CAAkB;AAAA;;AAC1B,qBAAiB,2BAAW;AACxB,eAAO;AACH,kBAAO,SADJ;AAEH,qBAAU,EAFP;AAGH,kBAAO,EAHJ;AAIH,oBAAS,EAJN;AAKH,yBAAc,IALX;AAMH,yBAAc;AANX,SAAP;AAQH,KAVyB;;AAY1B,YAAQ,kBAAW;AACf,YAAI,UAAU,IAAd;AACA,YAAI,KAAK,KAAL,CAAW,OAAf,EAAwB;AACpB,sBAAU;AAAA;AAAA,kBAAK,WAAU,eAAf,EAA+B,SAAS,KAAK,KAAL,CAAW,WAAnD;AAAiE,qBAAK,KAAL,CAAW;AAA5E,aAAV;AACH;;AAED,YAAI,OAAO,IAAX;AACA,YAAI,KAAK,KAAL,CAAW,IAAf,EAAqB;AACjB,mBACI;AAAA;AAAA,kBAAK,WAAU,YAAf;AACK,qBAAK,KAAL,CAAW;AADhB,aADJ;AAKH;;AAED,YAAI,SAAS,IAAb;AACA,YAAI,KAAK,KAAL,CAAW,MAAf,EAAuB;AACnB,qBAAS;AAAA;AAAA,kBAAK,WAAU,cAAf,EAA8B,SAAS,KAAK,KAAL,CAAW,WAAlD;AAAgE,qBAAK,KAAL,CAAW;AAA3E,aAAT;AACH;;AAED,YAAI,YAAY,iBAAiB,KAAK,KAAL,CAAW,IAA5C;AACA,eACI;AAAA;AAAA,cAAK,WAAW,SAAhB;AACK,mBADL;AAEI;AAAC,uCAAD;AAAA,kBAAyB,gBAAe,QAAxC,EAAkD,wBAAwB,GAA1E,EAA+E,wBAAwB,GAAvG;AACC;AADD,aAFJ;AAKK;AALL,SADJ;AASH;AA1CyB,CAAlB,CAAZ;;AA6CA,IAAI,UAAU,SAAV,OAAU,CAAS,IAAT,EAAe;AACzB,QAAI,OAAO,IAAP,KAAgB,WAApB,EAAiC;AAC7B,cAAM,qCAAN;AACH;AACD,QAAI,SAAS,KAAK,KAAL,CAAW,IAAX,EAAiB,GAAjB,CAAqB,UAAS,IAAT,EAAe,CAAf,EAAkB;AAChD,eACI;AAAA;AAAA,cAAM,KAAK,CAAX;AAAe,gBAAf;AACI;AADJ,SADJ;AAKH,KANY,CAAb;AAOA,WAAO,MAAP;AACH,CAZD;;AAeA,IAAI,gBAAgB,SAAhB,aAAgB,CAAS,KAAT,EAAgB;AAChC,WACI;AAAA;AAAA,UAAK,WAAU,wBAAf,EAAwC,SAAS,MAAM,WAAvD;AAAA;AACkB,cAAM,KADxB;AAAA;AAC+B,mCAAG,WAAU,mBAAb;AAD/B,KADJ;AAKH,CAND;;AAQA,IAAI,SAAS,MAAM,WAAN,CAAkB;AAAA;;AAC3B,qBAAiB,2BAAW;AACxB,eAAO;AACH,sBAAW,EADR;AAEH,wBAAa,EAFV;AAGH,0BAAe,EAHZ;AAIH,4BAAiB,EAJd;AAKH,wBAAa;AALV,SAAP;AAOH,KAT0B;;AAW3B,YAAQ,kBAAW;AACf,YAAI,eAAe,IAAnB;AACA,YAAI,KAAK,KAAL,CAAW,UAAX,CAAsB,MAAtB,GAA+B,CAAnC,EAAsC;AAClC,2BAAe,oBAAC,YAAD,IAAc,MAAM,KAAK,KAAL,CAAW,UAA/B,EAA2C,YAAY,KAAK,KAAL,CAAW,UAAlE,GAAf;AACH;;AAED,YAAI,iBAAiB,IAArB;AACA,YAAI,KAAK,KAAL,CAAW,YAAX,CAAwB,MAAxB,GAAiC,CAArC,EAAwC;AACpC,6BAAiB,oBAAC,cAAD,IAAgB,MAAM,KAAK,KAAL,CAAW,YAAjC,EAA+C,YAAY,KAAK,KAAL,CAAW,UAAtE,GAAjB;AACH;;AAED,YAAI,mBAAmB,IAAvB;AACA,YAAI,KAAK,KAAL,CAAW,cAAX,CAA0B,MAA1B,GAAmC,CAAvC,EAA0C;AACtC,+BAAmB,oBAAC,gBAAD,IAAkB,MAAM,KAAK,KAAL,CAAW,cAAnC,EAAmD,YAAY,KAAK,KAAL,CAAW,UAA1E,GAAnB;AACH;;AAED,eACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,aADJ;AAEI;AAAA;AAAA,kBAAK,WAAU,gBAAf;AACI;AAAA;AAAA;AAAA;AAAA,iBADJ;AAEI;AAAA;AAAA;AAAA;AAAA;AAFJ,aAFJ;AAMI;AAAA;AAAA,kBAAK,WAAU,aAAf;AACI;AAAA;AAAA,sBAAQ,WAAU,kCAAlB,EAAqD,SAAS,KAAK,KAAL,CAAW,SAAzE;AAAA;AAAA;AADJ,aANJ;AASI;AAAA;AAAA;AAAA;AAAA,aATJ;AAUI;AAAA;AAAA,kBAAK,WAAU,cAAf;AACK,4BADL;AAEK,8BAFL;AAGK;AAHL,aAVJ;AAeI;AAAA;AAAA,kBAAK,WAAU,aAAf;AACI;AAAA;AAAA,sBAAQ,WAAU,kCAAlB,EAAqD,SAAS,KAAK,KAAL,CAAW,SAAzE;AAAA;AAAA;AADJ;AAfJ,SADJ;AAqBH;;AAhD0B,CAAlB,CAAb;;AAoDA,IAAI,eAAe,MAAM,WAAN,CAAkB;AAAA;;AACjC,qBAAiB,2BAAW;AACxB,eAAO;AACH,kBAAO,EADJ;AAEH,wBAAa;AAFV,SAAP;AAIH,KANgC;;AAQjC,YAAQ,kBAAW;AACf,YAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB,CAAoB,UAAS,KAAT,EAAgB,GAAhB,EAAoB;AAC/C,mBAAO,oBAAC,eAAD,aAAiB,KAAK,GAAtB,IAA+B,KAA/B,IAAsC,YAAY,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,QAAjC,EAA2C,MAAM,MAAN,CAAa,EAAxD,CAAlD,IAAP;AACH,SAF8B,CAE7B,IAF6B,CAExB,IAFwB,CAApB,CAAX;;AAIA,eACI;AAAA;AAAA;AACK;AADL,SADJ;AAKH;AAlBgC,CAAlB,CAAnB;;AAqBA,IAAI,kBAAkB,MAAM,WAAN,CAAkB;AAAA;;AACpC,qBAAiB,2BAAW;AACxB,eAAO;AACH,kBAAO,EADJ;AAEH,wBAAa,IAFV;AAGH,oBAAS,EAHN;AAIH,oBAAS;AAJN,SAAP;AAMH,KARmC;;AAUpC,YAAQ,kBAAW;AACf,YAAI,UACA;AAAA;AAAA,cAAK,WAAU,KAAf;AACI;AAAA;AAAA,kBAAK,WAAU,WAAf;AACI;AAAA;AAAA;AAAK,yBAAK,KAAL,CAAW,MAAX,CAAkB;AAAvB;AADJ,aADJ;AAII;AAAA;AAAA,kBAAK,WAAU,UAAf;AACI;AAAA;AAAA,sBAAQ,WAAU,2BAAlB;AACI,iCAAS,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,QAAjC,EAA2C,KAAK,KAAL,CAAW,MAAX,CAAkB,EAA7D,CADb;AAEI,+CAAG,WAAU,cAAb,GAFJ;AAAA;AAAA;AADJ;AAJJ,SADJ;;AAcA,YAAI,KAAK,KAAL,CAAW,MAAf,EAAuB;AACnB,gBAAI,OAAO,2BAAG,WAAU,kDAAb,GAAX;AACA,gBAAI,QAAQ;AAAA;AAAA;AAAK,qBAAK,KAAL,CAAW,MAAX,CAAkB;AAAvB,aAAZ;AACA,gBAAI,aAAa,KAAK,KAAL,CAAW,MAAX,CAAkB,UAAlB,CAA6B,GAA7B,CAAiC,UAAS,KAAT,EAAgB,GAAhB,EAAqB;AACnE,uBACI;AAAA;AAAA,sBAAK,WAAU,qBAAf,EAAqC,KAAK,GAA1C;AACI,wCAAC,eAAD,EAAqB,KAArB;AADJ,iBADJ;AAKH,aANgB,CAAjB;AAOH,SAVD,MAUO;AACH,gBAAI,OAAO,IAAX;AACA,gBAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,aAAZ;AACA,gBAAI,aAAa;AAAA;AAAA;AAAA;AAAA,aAAjB;AACH;;AAED,YAAI,OACA;AAAA;AAAA;AACK,gBADL;AAEK,iBAFL;AAGI;AAAA;AAAA;AACK;AADL;AAHJ,SADJ;;AAUA,eAAO,oBAAC,KAAD,IAAO,SAAS,OAAhB,EAAyB,MAAM,IAA/B,GAAP;AACH;AApDmC,CAAlB,CAAtB;;AAuDA,IAAI,iBAAiB,MAAM,WAAN,CAAkB;AAAA;;AACnC,qBAAiB,2BAAW;AACxB,eAAO;AACH,kBAAO,EADJ;AAEH,wBAAa;AAFV,SAAP;AAIH,KANkC;;AAQnC,YAAQ,kBAAW;AACf,YAAI,YAAY,KAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB,CAAoB,UAAS,IAAT,EAAe,GAAf,EAAoB;AACpD,mBAAO,oBAAC,iBAAD,eAAuB,IAAvB,IAA6B,KAAK,GAAlC,EAAuC,YAAY,KAAK,KAAL,CAAW,UAA9D,IAAP;AACH,SAFmC,CAElC,IAFkC,CAE7B,IAF6B,CAApB,CAAhB;;AAIA,YAAI,UACA;AAAA;AAAA;AAAA;AAAA,SADJ;;AAIA,YAAI,OACA;AAAA;AAAA;AACK;AADL,SADJ;;AAMA,eAAQ,oBAAC,KAAD,IAAO,SAAS,OAAhB,EAAyB,MAAM,IAA/B,GAAR;AACH;AAxBkC,CAAlB,CAArB;;AA2BA,IAAI,oBAAoB,MAAM,WAAN,CAAkB;AAAA;;AACtC,qBAAiB,2BAAW;AACxB,eAAO;AACH,oBAAS,EADN;AAEH,sBAAW,EAFR;AAGH,wBAAa;AAHV,SAAP;AAKH,KAPqC;;AAStC,YAAQ,kBAAW;AACf,YAAI,UACA;AAAA;AAAA,cAAK,WAAU,KAAf;AACI;AAAA;AAAA,kBAAK,WAAU,WAAf;AACI;AAAA;AAAA;AAAK,yBAAK,KAAL,CAAW,QAAX,CAAoB;AAAzB;AADJ,aADJ;AAII;AAAA;AAAA,kBAAK,WAAU,UAAf;AACI;AAAA;AAAA,sBAAQ,WAAU,2BAAlB;AACI,iCAAS,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,UAAjC,EAA6C,KAAK,KAAL,CAAW,QAAX,CAAoB,EAAjE,CADb;AAEI,+CAAG,WAAU,cAAb,GAFJ;AAAA;AAAA;AADJ;AAJJ,SADJ;AAaA,YAAI,KAAK,KAAL,CAAW,MAAX,CAAkB,MAAlB,KAA6B,CAAjC,EAAoC;AAChC,gBAAI,aAAa;AAAA;AAAA;AAAK;AAAA;AAAA;AAAA;AAAA,iBAAL;AAAmC;AAAA;AAAA;AAAA;AAAA;AAAnC,aAAjB;AACH,SAFD,MAEO;AACH,gBAAI,mBAAmB,KAAK,KAAL,CAAW,QAAX,CAAoB,UAApB,CAA+B,GAA/B,CAAmC,UAAS,SAAT,EAAoB,GAApB,EAAwB;AAC9E,oBAAI,EAAE,OAAF,CAAU,UAAU,EAApB,EAAwB,KAAK,KAAL,CAAW,MAAnC,MAA+C,CAAC,CAApD,EAAuD;AACnD,2BAAO,oBAAC,oBAAD,eAA0B,SAA1B,IAAqC,KAAK,GAA1C,IAAP;AACH;AACJ,aAJyD,CAIxD,IAJwD,CAInD,IAJmD,CAAnC,CAAvB;AAKA,gBAAI,aACA;AAAA;AAAA,kBAAI,WAAU,YAAd;AACK;AADL,aADJ;AAKH;;AAED,YAAI,OACA;AAAA;AAAA,cAAK,WAAU,sBAAf;AACK;AADL,SADJ;AAKA,eAAO,oBAAC,KAAD,IAAO,SAAS,OAAhB,EAAyB,MAAM,IAA/B,GAAP;AACH;;AA5CqC,CAAlB,CAAxB;;AAgDA,IAAI,uBAAuB,MAAM,WAAN,CAAkB;AAAA;;AACzC,qBAAiB,2BAAW;AACxB,eAAO;AACH,uBAAY,EADT;AAEH,sBAAW,EAFR;AAGH,qBAAU;AAHP,SAAP;AAKH,KAPwC;;AASzC,YAAQ,kBAAW;AACf,YAAI,OAAO,2BAAG,WAAU,kDAAb,GAAX;;AAEA,YAAI,UAAU;AAAA;AAAA,cAAK,WAAU,UAAf;AAA0B;AAAA;AAAA;AAAA;AAAA;AAA1B,SAAd;;AAEA,YAAI,KAAK,KAAL,CAAW,OAAX,CAAmB,MAAnB,GAA4B,CAAhC,EAAmC;AAC/B,sBAAU,6BAAK,WAAU,YAAf,EAA4B,KAAK,KAAK,KAAL,CAAW,OAA5C,GAAV;AACH;;AAED,eACI;AAAA;AAAA,cAAI,WAAU,iBAAd,EAAgC,SAAS,KAAK,KAAL,CAAW,MAApD;AACK,gBADL;AAEK,mBAFL;AAGK,iBAAK,KAAL,CAAW,SAHhB;AAAA;AAG4B,iBAAK,KAAL,CAAW;AAHvC,SADJ;AAOH;;AAzBwC,CAAlB,CAA3B;;AA6BA,IAAI,mBAAmB,MAAM,WAAN,CAAkB;AAAA;;AACrC,qBAAiB,2BAAW;AACxB,eAAO;AACH,kBAAO,EADJ;AAEH,wBAAa;AAFV,SAAP;AAIH,KANoC;;AAQrC,qBAAiB,2BAAW;AACxB,eAAO,EAAP;AAEH,KAXoC;;AAarC,YAAQ,kBAAW;AACf,YAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB,CAAoB,UAAS,KAAT,EAAgB,GAAhB,EAAoB;AAC/C,mBAAO,oBAAC,mBAAD,aAAqB,KAAK,GAA1B,IAAmC,KAAnC,IAA0C,YAAY,KAAK,KAAL,CAAW,UAAjE,IAAP;AACH,SAF8B,CAE7B,IAF6B,CAExB,IAFwB,CAApB,CAAX;;AAIA,YAAI,UAAW;AAAA;AAAA;AAAA;AAAA,SAAf;;AAEA,YAAI,OACA;AAAA;AAAA;AACK;AADL,SADJ;;AAMA,eAAO,oBAAC,KAAD,IAAO,SAAS,OAAhB,EAAyB,MAAM,IAA/B,GAAP;AACH;AA3BoC,CAAlB,CAAvB;;AA8BA,IAAI,sBAAsB,MAAM,WAAN,CAAkB;AAAA;;AACxC,qBAAiB,2BAAW;AACxB,eAAO,EAAP;AAEH,KAJuC;;AAMxC,YAAQ,kBAAW;AACf,YAAI,QAAQ,EAAZ;AACA,gBAAQ,KAAK,KAAL,CAAW,MAAnB;AACI,iBAAK,KAAL;AACA,wBAAQ;AAAA;AAAA,sBAAM,WAAU,cAAhB;AAA+B,+CAAG,WAAU,oBAAb,GAA/B;AAAA;AAAA,iBAAR;AACA;;AAEA,iBAAK,IAAL;AACA,wBAAQ;AAAA;AAAA,sBAAM,WAAU,aAAhB;AAA8B,+CAAG,WAAU,oBAAb,GAA9B;AAAA;AAAA,iBAAR;AACA;;AAEA,iBAAK,SAAL;AACA,wBAAQ;AAAA;AAAA,sBAAM,WAAU,cAAhB;AAA+B,+CAAG,WAAU,uBAAb,GAA/B;AAAA;AAAA,iBAAR;AACA;AAXJ;;AAcA,eACI;AAAA;AAAA,cAAK,WAAU,uBAAf;AACI;AAAA;AAAA,kBAAK,WAAU,UAAf;AAA2B,qBAAK,KAAL,CAAW,UAAX,CAAsB;AAAjD,aADJ;AAEI;AAAA;AAAA,kBAAK,WAAU,UAAf;AAA2B;AAA3B,aAFJ;AAGI;AAAA;AAAA,kBAAK,WAAU,UAAf;AACI;AAAA;AAAA,sBAAQ,WAAU,2BAAlB;AACI,iCAAS,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,YAAjC,EAA+C,KAAK,KAAL,CAAW,UAAX,CAAsB,EAArE,CADb;AAEI,+CAAG,WAAU,cAAb,GAFJ;AAAA;AAAA;AADJ;AAHJ,SADJ;AAYH;;AAlCuC,CAAlB,CAA1B;;AAsCA,IAAI,aAAa,MAAM,WAAN,CAAkB;AAAA;;AAC/B,qBAAiB,2BAAW;AACxB,eAAO;AACH,sBAAW,EADR;AAEH,wBAAa,IAFV;AAGH,kBAAO,EAHJ;AAIH,wBAAa;AAJV,SAAP;AAMH,KAR8B;;AAU/B,YAAQ,kBAAW;AACf,YAAI,QAAQ;AAAA;AAAA;AAAK,iBAAK,KAAL,CAAW,UAAX,CAAsB;AAA3B,SAAZ;AACA,YAAI,OAAO,QAAQ,KAAK,KAAL,CAAW,UAAX,CAAsB,WAA9B,CAAX;AACA,YAAI,SACA;AAAA;AAAA,cAAK,WAAU,KAAf;AACI;AAAA;AAAA,kBAAK,WAAU,UAAf;AACI;AAAA;AAAA,sBAAQ,WAAU,kCAAlB;AACI,iCAAS,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,KAAjC,CADb;AAEI,+CAAG,WAAU,aAAb,GAFJ;AAAA;AAAA;AADJ,aADJ;AAOI;AAAA;AAAA,kBAAK,WAAU,UAAf;AACI;AAAA;AAAA,sBAAQ,WAAU,kCAAlB;AACI,iCAAS,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,IAAjC,CADb;AAEI,+CAAG,WAAU,aAAb,GAFJ;AAAA;AAAA;AADJ,aAPJ;AAaI;AAAA;AAAA,kBAAK,WAAU,UAAf;AACI;AAAA;AAAA,sBAAQ,WAAU,kCAAlB;AACI,iCAAS,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,SAAjC,CADb;AAAA;AAAA;AADJ;AAbJ,SADJ;;AAuBA,eACI,oBAAC,KAAD,IAAO,SAAS,KAAhB,EAAuB,MAAM,IAA7B,EAAmC,QAAQ,MAA3C,GADJ;AAGH;;AAvC8B,CAAlB,CAAjB;;AA2CA,IAAI,WAAW,MAAM,WAAN,CAAkB;AAAA;;AAC7B,qBAAiB,2BAAW;AACxB,eAAO;AACH,sBAAW,EADR;AAEH,wBAAa,IAFV;AAGH,kBAAO,EAHJ;AAIH,oBAAS,EAJN;AAKH,yBAAc,EALX;AAMH,yBAAc;AANX,SAAP;AAQH,KAV4B;;AAY7B,YAAQ,kBAAW;AACf,eAAO,oBAAC,cAAD,aAAgB,YAAY,KAAK,KAAL,CAAW,MAAX,CAAkB;AAA9C,WACC,KAAK,KAAL,CAAW,MADZ;AAEH,wBAAY,KAAK,KAAL,CAAW,UAFpB;AAGH,kBAAM,KAAK,KAAL,CAAW,IAHd;AAIH,yBAAa,KAAK,KAAL,CAAW,WAJrB,EAIkC,aAAa,KAAK,KAAL,CAAW,WAJ1D,IAAP;AAKH;AAlB4B,CAAlB,CAAf;;AAqBA,IAAI,iBAAiB,MAAM,WAAN,CAAkB;AAAA;;AACnC,qBAAiB,2BAAW;AACxB,eAAO;AACH,0BAAe,EADZ;AAEH,2BAAgB;AAFb,SAAP;AAIH,KANkC;;AAQnC,qBAAiB,2BAAW;AACxB,eAAO;AACH,wBAAa,IADV;AAEH,wBAAa,CAFV;AAGH,mBAAQ,IAHL;AAIH,wBAAa,EAJV;AAKH,kBAAO,IALJ;AAMH,wBAAa,CANV;AAOH,yBAAc;AAPX,SAAP;AASH,KAlBkC;;AAoBnC,YAAS,gBAAS,WAAT,EAAsB;AAC3B,YAAI,eAAe,KAAK,KAAL,CAAW,YAA9B;AACA,YAAI,QAAQ,EAAE,OAAF,CAAU,WAAV,EAAuB,YAAvB,CAAZ;AACA,YAAI,gBAAgB,KAAK,KAAL,CAAW,aAA/B;AACA,YAAI,aAAa,KAAK,KAAL,CAAW,UAAX,GAAwB,CAAzC;;AAEA,YAAI,UAAU,CAAC,CAAf,EAAkB;AACd,gBAAI,kBAAkB,UAAtB,EAAkC;AAC9B;AACA,6BAAa,IAAb,CAAkB,WAAlB;AACH;AACJ,SALD,MAKO;AACH,gBAAI,gBAAgB,CAApB,EAAuB;AACnB;AACH;AACD,yBAAa,MAAb,CAAoB,KAApB,EAA0B,CAA1B;AACH;;AAED,aAAK,QAAL,CAAc;AACV,0BAAe,YADL;AAEV,2BAAgB;AAFN,SAAd;AAIH,KA1CkC;;AA4CnC,eAAY,qBAAW;AACnB,aAAK,KAAL,CAAW,UAAX,CAAsB,KAAK,KAAL,CAAW,YAAjC;AACA,aAAK,QAAL,CAAc;AACV,0BAAe,EADL;AAEV,2BAAgB;AAFN,SAAd;AAIH,KAlDkC;;AAoDnC,YAAQ,kBAAW;AACf,YAAI,aAAa,KAAK,KAAL,CAAW,UAAX,GAAwB,CAAzC;AACA,YAAI,aAAa,KAAK,KAAL,CAAW,UAAX,CAAsB,GAAtB,CAA0B,UAAS,KAAT,EAAe;AACtD,gBAAI,EAAE,OAAF,CAAU,MAAM,EAAhB,EAAoB,KAAK,KAAL,CAAW,YAA/B,MAAiD,CAAC,CAAtD,EAAyD;AACrD,oBAAI,WAAW,IAAf;AACH,aAFD,MAEO;AACH,oBAAI,WAAW,KAAf;AACH;AACD,mBACI,oBAAC,iBAAD,aAAmB,KAAK,MAAM,EAA9B,IAAsC,KAAtC;AACI,0BAAU,QADd,EACwB,QAAQ,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,EAAuB,MAAM,EAA7B,CADhC,IADJ;AAIH,SAV0C,CAUzC,IAVyC,CAUpC,IAVoC,CAA1B,CAAjB;;AAYA,YAAI,KAAK,KAAL,CAAW,aAAX,GAA2B,CAA/B,EAAmC;AAC/B,gBAAI,SAAS;AAAA;AAAA,kBAAQ,WAAU,4BAAlB,EAA+C,SAAS,KAAK,SAA7D;AAAA;AAAiF,2CAAG,WAAU,mBAAb;AAAjF,aAAb;AACH,SAFD,MAEO;AACH,gBAAI,SAAS;AAAA;AAAA,kBAAQ,WAAU,4BAAlB,EAA+C,SAAS,KAAK,SAA7D;AAAA;AAAsF,qBAAK,KAAL,CAAW,KAAjG;AAAA;AAAwG,2CAAG,WAAU,mBAAb;AAAxG,aAAb;AACH;;AAED,YAAI,cAAc,IAAlB;AACA,YAAI,KAAK,KAAL,CAAW,WAAX,CAAuB,MAAvB,GAAgC,CAApC,EAAuC;AACnC,gBAAI,cAAc,YAAY,KAAK,KAAL,CAAW,WAAzC;AACA,0BACI;AAAA;AAAA,kBAAK,WAAU,KAAf;AACI;AAAA;AAAA,sBAAK,WAAU,UAAf;AACI;AAAA;AAAA;AAAG;AAAA;AAAA;AAAA;AAAA;AAAH,qBADJ;AAGA;AAAA;AAAA,0BAAK,OAAO,EAAC,QAAO,OAAR,EAAiB,UAAS,MAA1B,EAAZ;AACI;AAAA;AAAA,8BAAO,WAAU,qBAAjB;AACI;AAAA;AAAA;AACK,qCAAK,KAAL,CAAW,WAAX,CAAuB,GAAvB,CAA2B,UAAS,KAAT,EAAgB,GAAhB,EAAoB;AAC5C,2CAAO;AAAA;AAAA,0CAAI,KAAK,GAAT;AAAc;AAAA;AAAA;AAAK;AAAL;AAAd,qCAAP;AACC,iCAFJ;AADL;AADJ;AADJ;AAHA,iBADJ;AAcI;AAAA;AAAA,sBAAK,WAAU,eAAf;AACI;AAAA;AAAA,0BAAK,WAAU,oBAAf;AAAoC;AAAA;AAAA;AAAA;AAAA;AAApC,qBADJ;AAEI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,yBADJ;AAEI;AAAA;AAAA;AAAI;AAAA;AAAA,kCAAG,MAAM,WAAT;AAAsB;AAAA;AAAA;AAAA;AAAA,iCAAtB;AAAA;AAAA;AAAJ;AAFJ,qBAFJ;AAMI;AAAA;AAAA;AAAA;AAAA;AANJ;AAdJ,aADJ;AAyBH;;AAED,eACI;AAAA;AAAA,cAAK,WAAU,sBAAf;AACI;AAAA;AAAA;AAAK,qBAAK,KAAL,CAAW;AAAhB,aADJ;AAEI;AAAA;AAAA,kBAAK,WAAU,+CAAf;AACK,sBADL;AAAA;AAC+B,qBAAK,KAAL,CAAW,aAD1C;AAAA;AACyE,qBAAK,KAAL,CAAW,UADpF;AAAA;AACqG,qBAAK,KAAL,CAAW,UAAX,KAA0B,GAA1B,GAA+B,IAA/B,GAAqC,GAD1I;AAAA;AAAA,aAFJ;AAKI;AAAA;AAAA,kBAAI,WAAU,YAAd;AACK;AADL,aALJ;AAQI,2CARJ;AASI;AAAA;AAAA;AACK;AADL,aATJ;AAYI;AAAA;AAAA,kBAAK,OAAO,EAAC,OAAQ,MAAT,EAAZ;AACK;AADL;AAZJ,SADJ;AAkBH;AAxHkC,CAAlB,CAArB;;AA2HA,IAAI,oBAAoB,MAAM,WAAN,CAAkB;AAAA;;AACtC,qBAAiB,2BAAW;AACxB,eAAO,EAAP;AAEH,KAJqC;;AAMtC,qBAAiB,2BAAW;AACxB,eAAO;AACH,uBAAY,EADT;AAEH,sBAAW,EAFR;AAGH,qBAAU,EAHP;AAIH,mBAAQ,EAJL;AAKH,sBAAW,KALR;AAMH,oBAAS;AANN,SAAP;AAQH,KAfqC;;AAiBtC,YAAQ,kBAAW;AACf,YAAI,KAAK,KAAL,CAAW,QAAf,EAAyB;AACrB,gBAAI,aAAa,gCAAjB;AACA,gBAAI,OAAO;AAAA;AAAA,kBAAQ,WAAU,mCAAlB;AAAsD,2CAAG,WAAU,aAAb,GAAtD;AAAA;AAAA,aAAX;AACH,SAHD,MAGO;AACH,gBAAI,aAAa,yBAAjB;AACA,gBAAI,OAAO;AAAA;AAAA,kBAAQ,WAAU,mCAAlB;AAAA;AAAA,aAAX;AACH;;AAED,YAAI,UAAU;AAAA;AAAA,cAAK,WAAU,UAAf;AAA0B;AAAA;AAAA;AAAA;AAAA;AAA1B,SAAd;;AAEA,YAAI,KAAK,KAAL,CAAW,OAAX,CAAmB,MAAnB,GAA4B,CAAhC,EAAmC;AAC/B,sBAAU,6BAAK,WAAU,YAAf,EAA4B,KAAK,KAAK,KAAL,CAAW,OAA5C,GAAV;AACH;;AAED,eACI;AAAA;AAAA,cAAI,WAAW,UAAf,EAA2B,SAAS,KAAK,KAAL,CAAW,MAA/C;AACK,gBADL;AAEK,mBAFL;AAGK,iBAAK,KAAL,CAAW,SAHhB;AAAA;AAG4B,iBAAK,KAAL,CAAW;AAHvC,SADJ;AAOH;;AAvCqC,CAAlB,CAAxB;;AA2CA,IAAI,SAAS,MAAM,WAAN,CAAkB;AAAA;;AAC3B,qBAAiB,2BAAW;AACxB,eAAO;AACH,sBAAW,EADR;AAEH,wBAAa,IAFV;AAGH,kBAAO,EAHJ;AAIH,oBAAS;AAJN,SAAP;AAMH,KAR0B;;AAU3B,YAAQ,kBAAW;AACf,eAAO,oBAAC,YAAD,aAAc,UAAU,KAAK,KAAL,CAAW,MAAX,CAAkB,EAA1C,IAAkD,KAAK,KAAL,CAAW,MAA7D;AACH,wBAAY,KAAK,KAAL,CAAW,UADpB,EACgC,MAAM,KAAK,KAAL,CAAW,IADjD,IAAP;AAEH;;AAb0B,CAAlB,CAAb;;AAiBA,IAAI,eAAe,MAAM,WAAN,CAAkB;AAAA;;AACjC,qBAAiB,2BAAW;AACxB,eAAO;AACH,wBAAa,IADV;AAEH,mBAAQ,IAFL;AAGH,qBAAU,EAHP;AAIH,kBAAO,IAJJ;AAKH,sBAAW;AALR,SAAP;AAOH,KATgC;;AAWjC,YAAQ,kBAAW;AACf,YAAI,UAAU,KAAK,KAAL,CAAW,OAAX,CAAmB,GAAnB,CAAuB,UAAS,KAAT,EAAe;AAChD,mBAAQ,oBAAC,kBAAD,aAAoB,KAAK,MAAM,EAA/B,IAAuC,KAAvC;AACJ,4BAAY,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,KAAjC,CADR,IAAR;AAEH,SAHoC,CAGnC,IAHmC,CAG9B,IAH8B,CAAvB,CAAd;AAIA,eACI;AAAA;AAAA,cAAK,WAAU,oBAAf;AACI;AAAA;AAAA;AAAK,qBAAK,KAAL,CAAW;AAAhB,aADJ;AAEI;AAAA;AAAA,kBAAG,WAAU,SAAb;AAAA;AAAgC;AAAA;AAAA;AAAA;AAAA,iBAAhC;AAAA;AAAA,aAFJ;AAGK,mBAHL;AAII,2CAJJ;AAKI;AAAA;AAAA,kBAAK,WAAU,YAAf;AACI,oCAAC,aAAD,IAAe,OAAO,KAAK,KAAL,CAAW,KAAjC,EAAwC,aAAa,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,IAAjC,CAArD;AADJ;AALJ,SADJ;AAWH;AA3BgC,CAAlB,CAAnB;;AA8BA,IAAI,qBAAqB,MAAM,WAAN,CAAkB;AAAA;;AACvC,YAAS,CAAC,OAAD,CAD8B;;AAGvC,qBAAiB,2BAAW;AACxB,eAAO,EAAP;AAEH,KANsC;;AAQvC,qBAAiB,2BAAW;AACxB,eAAO;AACH,mBAAQ,IADL;AAEH,sBAAW,IAFR;AAGH,yBAAc,IAHX;AAIH,wBAAa,EAJV;AAKH,wBAAa,IALV;AAMH,kBAAO;AANJ,SAAP;AAQH,KAjBsC;;AAmBvC,YAAQ,kBAAW;AACf,YAAI,iBAAiB,KAAK,KAAL,CAAW,UAAX,CAAsB,MAA3C;AACA,YAAI,iBAAiB,CAArB,EAAwB;AACpB,gBAAI,aAAa,KAAK,KAAL,CAAW,UAAX,CAAsB,GAAtB,CAA0B,UAAS,KAAT,EAAe;AACtD,uBAAO,oBAAC,eAAD,aAAiB,KAAK,MAAM,EAA5B,IAAoC,KAApC,IAA2C,iBAAiB,cAA5D,IAAP;AACH,aAF0C,CAEzC,IAFyC,CAEpC,IAFoC,CAA1B,CAAjB;AAGH,SAJD,MAIO;AACH,gBAAI,aAAa,IAAjB;AACH;;AAED,YAAI,UAAU;AAAA;AAAA;AAAK,iBAAK,KAAL,CAAW;AAAhB,SAAd;;AAEA,YAAI,WAAW,QAAQ,KAAK,KAAL,CAAW,QAAnB,CAAf;;AAEA,YAAI,UAAU,IAAd;;AAEA,YAAI,KAAK,KAAL,CAAW,WAAX,CAAuB,MAA3B,EAAmC;AAC/B,sBAAU;AAAA;AAAA,kBAAK,WAAU,SAAf;AAAyB;AAAA;AAAA,sBAAG,MAAM,KAAK,KAAL,CAAW,WAApB,EAAiC,QAAO,QAAxC;AAAkD,yBAAK,KAAL,CAAW,WAA7D;AAAA;AAA0E,+CAAG,WAAU,qBAAb;AAA1E;AAAzB,aAAV;AACH;;AAED,YAAI,OACA;AAAA;AAAA,cAAK,WAAU,QAAf;AACI;AAAA;AAAA,kBAAK,WAAU,KAAf;AACI;AAAA;AAAA,sBAAK,WAAU,UAAf;AACK,4BADL;AAEI,mDAFJ;AAGK;AAHL,iBADJ;AAMS;AANT,aADJ;AASI;AAAA;AAAA,kBAAQ,WAAU,kCAAlB,EAAqD,SAAS,KAAK,KAAL,CAAW,UAAzE;AACI,2CAAG,WAAU,sBAAb,GADJ;AAAA;AACuD,qBAAK,KAAL,CAAW;AADlE;AATJ,SADJ;;AAgBA,eACI,oBAAC,KAAD,IAAO,SAAS,OAAhB,EAAyB,MAAM,IAA/B,GADJ;AAGH;;AA1DsC,CAAlB,CAAzB;;AA8DA,IAAI,kBAAkB,MAAM,WAAN,CAAkB;AAAA;;AACpC,qBAAiB,2BAAW;AACxB,eAAO,EAAP;AAEH,KAJmC;;AAMpC,qBAAiB,2BAAW;AACxB,eAAO;AACH,uBAAY,EADT;AAEH,sBAAW,EAFR;AAGH,qBAAU,EAHP;AAIH,mBAAQ,EAJL;AAKH,6BAAkB;AALf,SAAP;AAOH,KAdmC;;AAgBpC,YAAQ,kBAAW;AACf,gBAAQ,KAAK,KAAL,CAAW,eAAnB;AACI,iBAAK,CAAL;AACA,oBAAI,UAAU,UAAd;AACA;AACA,iBAAK,CAAL;AACA,oBAAI,UAAU,UAAd;AALJ;AAOA,eACI;AAAA;AAAA,cAAK,WAAW,OAAhB;AACI;AAAA;AAAA;AACK,qBAAK,KAAL,CAAW,OAAX,CAAmB,MAAnB,GAA4B,CAA5B,GACG;AAAA;AAAA,sBAAK,WAAU,aAAf;AACI,kDAAM,WAAU,QAAhB,GADJ;AAEI,iDAAK,KAAK,KAAK,KAAL,CAAW,OAArB,EAA8B,WAAU,0BAAxC;AAFJ,iBADH,GAMG;AAAA;AAAA,sBAAK,WAAU,uBAAf;AAAuC,+CAAG,WAAU,kBAAb,GAAvC;AAA2E,mDAA3E;AAAA;AAAA;AAPR,aADJ;AAWI;AAAA;AAAA;AAAG;AAAA;AAAA;AAAS,yBAAK,KAAL,CAAW,SAApB;AAAA;AAAgC,yBAAK,KAAL,CAAW;AAA3C,iBAAH;AAAgE,+CAAhE;AACC,qBAAK,KAAL,CAAW;AADZ;AAXJ,SADJ;AAgBH;;AAxCmC,CAAlB,CAAtB;;AA4CA;;AAEA,IAAI,WAAW,MAAM,WAAN,CAAkB;AAAA;;AAC7B,qBAAiB,2BAAW;AACxB,eAAO;AACH,sBAAW,IADR;AAEH,2BAAgB,CAFb;AAGH,6BAAkB,CAHf;AAIH,+BAAoB,CAJjB;AAKH,oBAAS,EALN;AAMH,sBAAW,EANR;AAOH,wBAAa,EAPV;AAQH,yBAAc,CARX;AASH,6BAAkB,CATf;AAUH,mBAAQ,SAVL;AAWH,wBAAa,EAXV;AAYH,0BAAe,EAZZ;AAaH,4BAAiB,EAbd;AAcH,yBAAc,EAdX;AAeH,0BAAe,KAfZ;AAgBH,wBAAa,IAhBV;AAiBH,yBAAc;AAjBX,SAAP;AAmBH,KArB4B;;AAuB7B,uBAAmB,6BAAW;AAC1B,aAAK,IAAL;AACH,KAzB4B;;AA2B7B,UAAM,gBAAW;AACb,UAAE,OAAF,CAAU,wBAAV,EAAoC;AACnC,qBAAU;AADyB,SAApC,EAEG,IAFH,CAEQ,UAAS,IAAT,EAAc;AAClB,gBAAI,QAAQ,KAAK,KAAL,CAAW,KAAvB;AACA,gBAAI,CAAC,KAAK,QAAV,EAAoB;AAChB,qBAAK,QAAL,CAAc,OAAd;AACH,aAFD,MAEO,IAAI,KAAK,QAAT,EAAmB;AACtB,qBAAK,QAAL,CAAc;AACV,2BAAQ,UADE;AAEV,8BAAW,KAAK;AAFN,iBAAd;AAIH,aALM,MAKA;AACH,oBAAI,eAAe,KAAK,MAAL,CAAY,MAA/B;AACA,oBAAI,iBAAiB,KAAK,QAAL,CAAc,MAAnC;AACA,oBAAI,mBAAmB,KAAK,UAAL,CAAgB,MAAvC;AACA,wBAAQ,GAAR,CAAY,YAAZ;AACA,wBAAQ,GAAR,CAAY,cAAZ;AACA,wBAAQ,GAAR,CAAY,gBAAZ;AACA;AACA,oBAAI,iBAAiB,CAArB,EAAwB;AACpB,wBAAI,mBAAmB,CAAvB,EAA0B;AACtB,4BAAI,qBAAqB,CAAzB,EAA4B;AACxB,oCAAQ,OAAR;AACH,yBAFD,MAEO;AACH,oCAAQ,YAAR;AACH;AACJ,qBAND,MAMO;AACH,gCAAQ,UAAR;AACH;AACJ,iBAVD,MAUO;AACH,4BAAQ,QAAR;AACH;AACD,oBAAI,cAAc,eAAe,cAAjC;AACA,qBAAK,QAAL,CAAc;AACV,2BAAQ,KADE;AAEV,8BAAW,KAAK,QAFN;AAGV,8BAAW,KAAK,QAHN;AAIV,4BAAS,KAAK,MAJJ;AAKV,8BAAW,KAAK,QALN;AAMV,gCAAa,KAAK,UANR;AAOV,iCAAc,WAPJ;AAQV,qCAAkB,gBARR;AASV,iCAAc,KAAK,WATT;AAUV,iCAAc,KAAK;AAVT,iBAAd;AAYH;AAEJ,SA7CO,CA6CN,IA7CM,CA6CD,IA7CC,CAFR;AAgDH,KA5E4B;;AA8E7B,cAAW,kBAAS,KAAT,EAAgB;AACvB,eAAO,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACA,aAAK,QAAL,CAAc;AACV,mBAAQ;AADE,SAAd;AAGH,KAnF4B;;AAqF7B,kBAAe,sBAAS,EAAT,EAAa;AACxB,YAAI,QAAQ,CAAZ;AACA,UAAE,IAAF,CAAO,KAAK,KAAL,CAAW,MAAlB,EAA0B,UAAS,KAAT,EAAgB,KAAhB,EAAsB;AAC5C,gBAAI,OAAO,MAAM,EAAjB,EAAqB;AACjB,wBAAQ,KAAR;AACH;AACJ,SAJD;AAKA,eAAO,KAAP;AACH,KA7F4B;;AA+F7B,oBAAiB,wBAAS,EAAT,EAAa;AAC1B,YAAI,QAAQ,CAAZ;AACA,UAAE,IAAF,CAAO,KAAK,KAAL,CAAW,QAAlB,EAA4B,UAAS,KAAT,EAAgB,KAAhB,EAAsB;AAC9C,gBAAI,OAAO,MAAM,EAAjB,EAAqB;AACjB,wBAAQ,KAAR;AACH;AACJ,SAJD;AAKA,eAAO,KAAP;AACH,KAvG4B;;AAyG7B,sBAAmB,0BAAS,EAAT,EAAa;AAC5B,YAAI,QAAQ,CAAZ;AACA,UAAE,IAAF,CAAO,KAAK,KAAL,CAAW,UAAlB,EAA8B,UAAS,KAAT,EAAgB,KAAhB,EAAsB;AAChD,gBAAI,OAAO,MAAM,EAAjB,EAAqB;AACjB,wBAAQ,KAAR;AACH;AACJ,SAJD;AAKA,eAAO,KAAP;AACH,KAjH4B;;AAmH7B,sBAAmB,0BAAS,EAAT,EAAa;AAC5B,aAAK,QAAL,CAAc;AACV,2BAAgB;AADN,SAAd;AAGH,KAvH4B;;AAyH7B,wBAAqB,4BAAS,EAAT,EAAa;AAC9B,aAAK,QAAL,CAAc;AACV,6BAAkB;AADR,SAAd;AAGH,KA7H4B;;AA+H7B,0BAAuB,8BAAS,EAAT,EAAa;AAChC,aAAK,QAAL,CAAc;AACV,+BAAoB;AADV,SAAd;AAGH,KAnI4B;;AAqI7B,gBAAa,oBAAS,KAAT,EAAgB,EAAhB,EAAoB;AAC7B,gBAAO,KAAP;AACI,iBAAK,QAAL;AACA,qBAAK,gBAAL,CAAsB,KAAK,YAAL,CAAkB,EAAlB,CAAtB;AACA;;AAEA,iBAAK,UAAL;AACA,qBAAK,kBAAL,CAAwB,KAAK,cAAL,CAAoB,EAApB,CAAxB;AACA;;AAEA,iBAAK,YAAL;AACA,qBAAK,oBAAL,CAA0B,KAAK,gBAAL,CAAsB,EAAtB,CAA1B;AACA;AAXJ;AAaA,aAAK,QAAL,CAAc;AACV,0BAAe,IADL;AAEV,mBAAQ;AAFE,SAAd;AAIH,KAvJ4B;;AAyJ7B,sBAAmB,0BAAS,MAAT,EAAiB;AAChC,YAAI,QAAQ,KAAK,KAAL,CAAW,KAAvB;AACA,YAAI,UAAU,KAAK,KAAL,CAAW,aAAzB;AACA,YAAI,aAAa,UAAU,CAA3B;AACA,YAAI,aAAa,KAAK,KAAL,CAAW,UAA5B;AACA,YAAI,cAAc,WAAW,OAAX,CAAlB;AACA,sBAAc;AACV,oBAAS,KAAK,KAAL,CAAW,MAAX,CAAkB,KAAK,KAAL,CAAW,aAA7B,CADC;AAEV,oBAAS;AAFC,SAAd;AAIA,mBAAW,OAAX,IAAsB,WAAtB;;AAEA,YAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AACzB,oBAAQ,QAAR;AACH,SAFD,MAEO,IAAI,OAAO,KAAK,KAAL,CAAW,MAAX,CAAkB,UAAlB,CAAP,KAAyC,WAA7C,EAA0D;AAC7D,gBAAI,KAAK,KAAL,CAAW,QAAX,CAAoB,MAApB,GAA6B,CAAjC,EAAoC;AAChC,wBAAQ,UAAR;AACH,aAFD,MAEO,IAAI,KAAK,KAAL,CAAW,UAAX,CAAsB,MAAtB,GAA+B,CAAnC,EAAsC;AACzC,wBAAQ,YAAR;AACH,aAFM,MAEA;AACH,wBAAQ,QAAR;AACH;AACJ;AACD,eAAO,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACA,aAAK,QAAL,CAAc;AACV,mBAAQ,KADE;AAEV,wBAAa,UAFH;AAGV,2BAAgB;AAHN,SAAd;AAKH,KAtL4B;;AAwL7B,wBAAoB,4BAAS,MAAT,EAAiB;AACjC,YAAI,QAAQ,KAAK,KAAL,CAAW,KAAvB;AACA,YAAI,UAAU,KAAK,KAAL,CAAW,eAAzB;AACA,YAAI,eAAe,UAAU,CAA7B;AACA,YAAI,eAAe,KAAK,KAAL,CAAW,YAA9B;AACA,YAAI,cAAc,aAAa,OAAb,CAAlB;;AAEA,sBAAc;AACV,sBAAW,KAAK,KAAL,CAAW,QAAX,CAAoB,OAApB,CADD;AAEV,oBAAS;AAFC,SAAd;;AAKA,qBAAa,OAAb,IAAwB,WAAxB;;AAEA,eAAO,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACA,YAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AACzB,oBAAQ,QAAR;AACH,SAFD,MAEO,IAAI,OAAO,KAAK,KAAL,CAAW,QAAX,CAAoB,YAApB,CAAP,KAA6C,WAAjD,EAA8D;AACjE,gBAAI,KAAK,KAAL,CAAW,UAAX,CAAsB,MAAtB,GAA+B,CAAnC,EAAsC;AAClC,wBAAQ,YAAR;AACH,aAFD,MAEO;AACH,wBAAQ,QAAR;AACH;AACJ;;AAED,aAAK,QAAL,CAAc;AACV,mBAAQ,KADE;AAEV,0BAAe,YAFL;AAGV,6BAAkB;AAHR,SAAd;AAKH,KAtN4B;;AAwN7B,0BAAuB,8BAAS,IAAT,EAAe;AAClC,YAAI,QAAQ,KAAK,KAAL,CAAW,KAAvB;AACA,YAAI,UAAU,KAAK,KAAL,CAAW,iBAAzB;AACA,YAAI,iBAAiB,UAAU,CAA/B;AACA,YAAI,iBAAiB,KAAK,KAAL,CAAW,cAAhC;AACA,YAAI,cAAc,eAAe,OAAf,CAAlB;;AAEA,sBAAc;AACV,wBAAa,KAAK,KAAL,CAAW,UAAX,CAAsB,OAAtB,CADH;AAEV,oBAAS;AAFC,SAAd;;AAKA,uBAAe,OAAf,IAA0B,WAA1B;;AAEA,eAAO,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACA,YAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AACzB,oBAAQ,QAAR;AACH,SAFD,MAEO,IAAI,OAAO,KAAK,KAAL,CAAW,UAAX,CAAsB,cAAtB,CAAP,KAAiD,WAArD,EAAkE;AACrE,oBAAQ,QAAR;AACH;;AAED,aAAK,QAAL,CAAc;AACV,mBAAQ,KADE;AAEV,4BAAiB,cAFP;AAGV,+BAAoB;AAHV,SAAd;AAKH,KAlP4B;;AAoP7B,eAAY,qBAAW;AACnB,YAAI,eAAe,EAAnB;AACA,UAAE,IAAF,CAAO,KAAK,KAAL,CAAW,UAAlB,EAA8B,UAAS,KAAT,EAAgB,KAAhB,EAAsB;AAChD,gBAAI,MAAM,MAAN,IAAgB,OAAO,MAAM,MAAN,CAAa,EAApB,KAA2B,WAA3C,IACA,MAAM,MADN,IACgB,OAAO,MAAM,MAAN,CAAa,EAApB,KAA2B,WAD/C,EAC4D;AACxD,6BAAa,IAAb,CAAkB;AACd,8BAAW,MAAM,MAAN,CAAa,EADV;AAEd,8BAAW,MAAM,MAAN,CAAa;AAFV,iBAAlB;AAIH;AACJ,SARD;;AAUA,YAAI,iBAAiB,EAArB;AACA,UAAE,IAAF,CAAO,KAAK,KAAL,CAAW,YAAlB,EAAgC,UAAS,KAAT,EAAgB,KAAhB,EAAsB;AAClD,2BAAe,IAAf,CAAoB;AAChB,4BAAa,MAAM,QAAN,CAAe,EADZ;AAEhB,wBAAS,MAAM;AAFC,aAApB;AAIH,SALD;;AAOA,YAAI,mBAAmB,EAAvB;AACA,UAAE,IAAF,CAAO,KAAK,KAAL,CAAW,cAAlB,EAAkC,UAAS,KAAT,EAAgB,KAAhB,EAAsB;AACpD,6BAAiB,IAAjB,CAAsB;AAClB,8BAAe,MAAM,UAAN,CAAiB,EADd;AAElB,wBAAS,MAAM;AAFG,aAAtB;AAIH,SALD;AAMA,UAAE,IAAF,CAAO,oBAAP,EAA6B;AACzB,qBAAU,MADe;AAEzB,wBAAa,KAAK,KAAL,CAAW,QAAX,CAAoB,EAFR;AAGzB,oBAAS,YAHgB;AAIzB,sBAAW,cAJc;AAKzB,wBAAa;AALY,SAA7B,EAMG,IANH,EAMS,MANT,EAOK,IAPL,CAOU,UAAS,IAAT,EAAc;AAChB,gBAAI,KAAK,OAAL,KAAiB,IAArB,EAA2B;AACvB,qBAAK,QAAL,CAAc;AACV,kCAAe,KADL;AAEV,2BAAQ,UAFE;AAGV,gCAAa,KAAK;AAHR,iBAAd;AAKH,aAND,MAMO;AACH,qBAAK,QAAL,CAAc;AACV,kCAAe,KADL;AAEV,2BAAQ;AAFE,iBAAd;AAIH;AACJ,SAbK,CAaJ,IAbI,CAaC,IAbD,CAPV,EAqBK,IArBL,CAqBU,UAAS,IAAT,EAAc;AAChB,iBAAK,QAAL,CAAc,SAAd;AACH,SAFK,CAEJ,IAFI,CAEC,IAFD,CArBV;AAwBH,KAvS4B;;AAyS7B,YAAQ,kBAAW;AACf,YAAI,UAAU,IAAd;AACA,YAAI,SAAS,IAAb;;AAEA,YAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AACzB,qBAAS;AAAA;AAAA,kBAAQ,WAAU,+BAAlB,EAAkD,SAAS,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,EAAyB,QAAzB,CAA3D;AAAA;AAAA,aAAT;AACH;;AAED,gBAAQ,KAAK,KAAL,CAAW,KAAnB;AACI,iBAAK,SAAL;AACA,0BAAU;AAAA;AAAA,sBAAK,WAAU,qBAAf;AAAqC,+CAAG,WAAU,6BAAb;AAArC,iBAAV;AACA;;AAEA,iBAAK,OAAL;AACA,0BAAU,oBAAC,KAAD,OAAV;AACA;;AAEA,iBAAK,UAAL;AACA,0BAAU,oBAAC,QAAD,IAAU,UAAU,KAAK,KAAL,CAAW,QAA/B,EAAyC,YAAY,KAAK,KAAL,CAAW,UAAhE,GAAV;AACA;;AAEA,iBAAK,QAAL;AACA,0BAAU,oBAAC,MAAD,IAAQ,UAAU,KAAK,KAAL,CAAW,QAA7B;AACN,4BAAQ,KAAK,KAAL,CAAW,MAAX,CAAkB,KAAK,KAAL,CAAW,aAA7B,CADF;AAEN,gCAAY,KAAK,gBAFX,EAE6B,MAAM,KAAK,KAAL,CAAW,UAF9C,GAAV;AAGA;;AAEA,iBAAK,UAAL;AACA,0BAAU,oBAAC,QAAD,IAAU,UAAU,KAAK,KAAL,CAAW,QAA/B;AACN,4BAAQ,KAAK,KAAL,CAAW,QAAX,CAAoB,KAAK,KAAL,CAAW,eAA/B,CADF;AAEN,gCAAY,KAAK,kBAFX,EAE+B,MAAM,KAAK,KAAL,CAAW,YAFhD;AAGN,iCAAa,KAAK,KAAL,CAAW,WAHlB,EAG+B,aAAa,KAAK,KAAL,CAAW,WAHvD,GAAV;AAIA;;AAEA,iBAAK,YAAL;AACA,0BAAU,oBAAC,UAAD,IAAY,UAAU,KAAK,KAAL,CAAW,QAAjC;AACN,gCAAY,KAAK,KAAL,CAAW,UAAX,CAAsB,KAAK,KAAL,CAAW,iBAAjC,CADN;AAEN,gCAAY,KAAK,oBAFX,EAEiC,MAAM,KAAK,KAAL,CAAW,cAFlD,GAAV;AAGA;;AAEA,iBAAK,SAAL;AACI,0BAAU,oBAAC,OAAD,OAAV;AACJ;;AAEA,iBAAK,QAAL;AACA,yBAAS,IAAT;AACA,0BAAU,oBAAC,MAAD,IAAQ,UAAU,KAAK,KAAL,CAAW,QAA7B;AACN,4BAAQ,KAAK,KAAL,CAAW,MADb;AAEN,8BAAU,KAAK,KAAL,CAAW,QAFf;AAGN,gCAAY,KAAK,KAAL,CAAW,UAHjB;AAIN,gCAAY,KAAK,KAAL,CAAW,UAJjB;AAKN,kCAAc,KAAK,KAAL,CAAW,YALnB;AAMN,oCAAgB,KAAK,KAAL,CAAW,cANrB;AAON,+BAAW,KAAK,SAPV;AAQN,gCAAY,KAAK,UARX,GAAV;AASA;AA/CJ;;AAkDA,YAAI,YAAY,IAAhB;;AAEA,YAAI,KAAK,KAAL,CAAW,KAAX,KAAqB,QAArB,IAAiC,KAAK,KAAL,CAAW,UAAX,CAAsB,MAAtB,KAAiC,CAAlE,IACG,KAAK,KAAL,CAAW,YAAX,CAAwB,MAAxB,KAAmC,CADtC,IAEG,KAAK,KAAL,CAAW,cAAX,CAA0B,MAA1B,KAAqC,CAF5C,EAE+C;AAC3C,wBAAa,oBAAC,SAAD,IAAW,aAAa,KAAK,KAAL,CAAW,WAAnC,EAAgD,iBAAiB,KAAK,KAAL,CAAW,eAA5E,GAAb;AACH;;AAED,eACI;AAAA;AAAA;AACK,qBADL;AAEK,kBAFL;AAGK;AAHL,SADJ;AAOH;;AAlX4B,CAAlB,CAAf;;AAsXA,IAAI,QAAQ,SAAR,KAAQ,GAAW;AACnB,WACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA;AADJ,KADJ;AAKH,CAND;;AAQA,IAAI,WAAW,MAAM,WAAN,CAAkB;AAAA;;AAC7B,qBAAiB,2BAAW;AACxB,eAAO;AACH,sBAAW,EADR;AAEH,wBAAa;AAFV,SAAP;AAIH,KAN4B;;AAQ7B,YAAQ,kBAAW;AACf,eACI;AAAA;AAAA,cAAK,WAAU,KAAf;AACI;AAAA;AAAA,kBAAK,WAAU,0BAAf;AACI;AAAA;AAAA,sBAAK,WAAU,kBAAf;AACI;AAAA;AAAA;AAAK,6BAAK,KAAL,CAAW,QAAX,CAAoB;AAAzB,qBADJ;AAEI;AAAA;AAAA;AAAA;AAAA,qBAFJ;AAGI;AAAA;AAAA,0BAAG,MAAK,qDAAR,EAA8D,WAAU,wBAAxE;AAAA;AAAA,qBAHJ;AAII,mDAJJ;AAKI;AAAA;AAAA;AAAA;AAA+C;AAAA;AAAA,8BAAG,MAAM,KAAK,KAAL,CAAW,UAApB;AAAA;AAAA;AAA/C;AALJ;AADJ;AADJ,SADJ;AAaH;;AAtB4B,CAAlB,CAAf;;AA0BA,IAAI,YAAY,MAAM,WAAN,CAAkB;AAAA;;AAC9B,qBAAiB,2BAAW;AACxB,eAAO;AACH,kBAAO;AADJ,SAAP;AAGH,KAL6B;;AAO9B,qBAAiB,2BAAW;AACxB,eAAO;AACH,yBAAc,CADX;AAEH,6BAAkB,CAFf;AAGH,kBAAO;AAHJ,SAAP;AAKH,KAb6B;;AAe9B,YAAQ,gBAAS,IAAT,EAAe,MAAf,EAAuB,OAAvB,EAA+B;AACnC,YAAI,OAAO,MAAP,KAAkB,WAAlB,IAAiC,OAAO,MAAP,KAAkB,CAAvD,EAA0D;AACtD,qBAAS,EAAT;AACH;AACD,YAAI,OAAO,OAAP,KAAkB,WAAlB,IAAiC,QAAO,MAAP,KAAkB,CAAvD,EAA0D;AACtD,sBAAS,GAAT;AACH;AACD,eAAQ,QAAQ,CAAR,GAAY,OAAZ,GAAqB,MAA7B;AACH,KAvB6B;;AAyB9B,YAAQ,kBAAW;AACf,YAAI,UAAU,IAAd;AACA,YAAI,aAAa,IAAjB;AACA,YAAI,aAAa,CAAjB;AACA,YAAI,QAAQ,KAAZ;AACA,YAAI,MAAM,EAAV;;AAEA,YAAI,KAAK,KAAL,CAAW,WAAX,GAAyB,CAA7B,EAAgC;AAC5B,0BAAc,KAAK,KAAL,CAAW,WAAzB;AACA,sBAAU,KAAK,KAAL,CAAW,WAAX,GAAyB,SAAzB,GAAqC,KAAK,MAAL,CAAY,KAAK,KAAL,CAAW,WAAvB,CAA/C;AACH;;AAED,YAAI,KAAK,KAAL,CAAW,eAAX,GAA6B,CAAjC,EAAoC;AAChC,0BAAc,KAAK,KAAL,CAAW,eAAzB;AACA,yBAAa,KAAK,KAAL,CAAW,eAAX,GAA6B,WAA7B,GAA2C,KAAK,MAAL,CAAY,KAAK,KAAL,CAAW,eAAvB,EAAwC,IAAxC,EAA8C,GAA9C,CAAxD;AACH;;AAED,YAAI,aAAa,CAAjB,EAAoB;AAChB,oBAAQ,IAAR;AACH;;AAED,YAAI,KAAK,KAAL,CAAW,WAAX,GAAyB,CAAzB,IAA8B,KAAK,KAAL,CAAW,eAAX,GAA6B,CAA/D,EAAkE;AAC9D,kBAAM,KAAN;AACH;;AAED,eACI;AAAA;AAAA,cAAK,WAAU,kBAAf;AAAA;AACW,iBADX;AAAA;AAC6B,mBAD7B;AAAA;AACuC,eADvC;AAAA;AAC6C,sBAD7C;AAAA;AAAA,SADJ;AAKH;;AAvD6B,CAAlB,CAAhB;;AA2DA,IAAI,UAAU,MAAM,WAAN,CAAkB;AAAA;;AAC5B,YAAQ,kBAAW;AACf,eACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,aADJ;AAEI;AAAA;AAAA;AAAA;AAAA;AAFJ,SADJ;AAMH;;AAR2B,CAAlB,CAAd;;AAYA,SAAS,MAAT,CAAgB,oBAAC,QAAD,OAAhB,EAA6B,SAAS,cAAT,CAAwB,UAAxB,CAA7B","file":"script.js","sourcesContent":["'use strict';\nvar ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;\n\nvar Panel = React.createClass({\n    getDefaultProps: function() {\n        return {\n            type : 'default',\n            heading : '',\n            body : '',\n            footer : '',\n            footerClick : null,\n            headerClick : null\n        };\n    },\n\n    render: function() {\n        var heading = null;\n        if (this.props.heading) {\n            heading = <div className=\"panel-heading\" onClick={this.props.headerClick}>{this.props.heading}</div>;\n        }\n\n        var body = null;\n        if (this.props.body) {\n            body = (\n                <div className=\"panel-body\">\n                    {this.props.body}\n                </div>\n            )\n        }\n\n        var footer = null;\n        if (this.props.footer) {\n            footer = <div className=\"panel-footer\" onClick={this.props.footerClick}>{this.props.footer}</div>;\n        }\n\n        var panelType = 'panel panel-' + this.props.type;\n        return (\n            <div className={panelType}>\n                {heading}\n                <ReactCSSTransitionGroup transitionName=\"expand\"  transitionEnterTimeout={500} transitionLeaveTimeout={500}>\n                {body}\n                </ReactCSSTransitionGroup>\n                {footer}\n            </div>\n        );\n    }\n});\n\nvar BreakIt = function(text) {\n    if (typeof text === 'undefined') {\n        throw 'BreakIt text parameter is undefined';\n    }\n    var broken = text.split(\"\\n\").map(function(item, i) {\n        return (\n            <span key={i}>{item}\n                <br/>\n            </span>\n        );\n    });\n    return broken;\n}\n\n\nvar AbstainButton = function(props) {\n    return (\n        <div className=\"btn btn-warning btn-lg\" onClick={props.handleClick}>\n            Abstain from {props.title} <i className=\"fa fa-arrow-right\"></i>\n        </div>\n    );\n}\n\nvar Review = React.createClass({\n    getDefaultProps: function() {\n        return {\n            election : {},\n            singleVote : [],\n            multipleVote : [],\n            referendumVote : [],\n            resetStage : null\n        };\n    },\n\n    render: function() {\n        var singleResult = null;\n        if (this.props.singleVote.length > 0) {\n            singleResult = <SingleResult vote={this.props.singleVote} resetStage={this.props.resetStage}/>;\n        }\n\n        var multipleResult = null;\n        if (this.props.multipleVote.length > 0) {\n            multipleResult = <MultipleResult vote={this.props.multipleVote} resetStage={this.props.resetStage}/>;\n        }\n\n        var referendumResult = null;\n        if (this.props.referendumVote.length > 0) {\n            referendumResult = <ReferendumResult vote={this.props.referendumVote} resetStage={this.props.resetStage}/>;\n        }\n\n        return (\n            <div>\n                <h2>Review</h2>\n                <div className=\"review-warning\">\n                    <p>You're almost done</p>\n                    <p>Since you may only vote once, let's review your selections.</p>\n                </div>\n                <div className=\"text-center\">\n                    <button className=\"btn btn-lg btn-block btn-success\" onClick={this.props.finalVote}>Place my Vote</button>\n                </div>\n                <div>&nbsp;</div>\n                <div className=\"vote-results\">\n                    {singleResult}\n                    {multipleResult}\n                    {referendumResult}\n                </div>\n                <div className=\"text-center\">\n                    <button className=\"btn btn-lg btn-block btn-success\" onClick={this.props.finalVote}>Place my Vote</button>\n                </div>\n            </div>\n        );\n    }\n\n});\n\nvar SingleResult = React.createClass({\n    getDefaultProps: function() {\n        return {\n            vote : [],\n            resetStage : null\n        };\n    },\n\n    render: function() {\n        var rows = this.props.vote.map(function(value, key){\n            return <SingleResultRow key={key} {...value} resetStage={this.props.resetStage.bind(null, 'single', value.single.id)}/>;\n        }.bind(this));\n\n        return (\n            <div>\n                {rows}\n            </div>\n        );\n    }\n});\n\nvar SingleResultRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            vote : {},\n            resetStage : null,\n            single : {},\n            ticket : {}\n        };\n    },\n\n    render: function() {\n        var heading = (\n            <div className=\"row\">\n                <div className=\"col-xs-10\">\n                    <h3>{this.props.single.title}</h3>\n                </div>\n                <div className=\"col-xs-2\">\n                    <button className=\"btn btn-block btn-default\"\n                        onClick={this.props.resetStage.bind(null, 'single', this.props.single.id)}>\n                        <i className=\"fa fa-pencil\"></i> Edit\n                    </button>\n                </div>\n            </div>\n        );\n\n        if (this.props.ticket) {\n            var icon = <i className=\"fa fa-check-circle text-success fa-5x pull-right\"></i>;\n            var title = <h4>{this.props.ticket.title}</h4>;\n            var candidates = this.props.ticket.candidates.map(function(value, key) {\n                return (\n                    <div className=\"pull-left pad-right\" key={key}>\n                        <SingleCandidate {...value}/>\n                    </div>\n                );\n            });\n        } else {\n            var icon = null;\n            var title = <h4>No ticket chosen</h4>;\n            var candidates = <p>Abstained</p>;\n        }\n\n        var body = (\n            <div>\n                {icon}\n                {title}\n                <div>\n                    {candidates}\n                </div>\n            </div>\n        );\n\n        return <Panel heading={heading} body={body}/>;\n    }\n});\n\nvar MultipleResult = React.createClass({\n    getDefaultProps: function() {\n        return {\n            vote : [],\n            resetStage : null\n        };\n    },\n\n    render: function() {\n        var multiples = this.props.vote.map(function(vote, key) {\n            return <MultipleResultRow {...vote} key={key} resetStage={this.props.resetStage}/>;\n        }.bind(this));\n\n        var heading = (\n            <h3>Senate Seats</h3>\n        );\n\n        var body = (\n            <div>\n                {multiples}\n            </div>\n        );\n\n        return (<Panel heading={heading} body={body} />);\n    }\n});\n\nvar MultipleResultRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            chairs : [],\n            multiple : {},\n            resetStage : null\n        };\n    },\n\n    render: function() {\n        var heading = (\n            <div className=\"row\">\n                <div className=\"col-xs-10\">\n                    <h4>{this.props.multiple.title}</h4>\n                </div>\n                <div className=\"col-xs-2\">\n                    <button className=\"btn btn-default btn-block\"\n                        onClick={this.props.resetStage.bind(null, 'multiple', this.props.multiple.id)}>\n                        <i className=\"fa fa-pencil\"></i> Edit\n                    </button>\n                </div>\n            </div>\n        );\n        if (this.props.chairs.length === 0) {\n            var candidates = <div><h4>No candidates chosen.</h4><p>Abstained.</p></div>;\n        } else {\n            var candidateListing = this.props.multiple.candidates.map(function(candidate, key){\n                if ($.inArray(candidate.id, this.props.chairs) !== -1) {\n                    return <MultipleCandidateRow {...candidate} key={key}/>;\n                }\n            }.bind(this));\n            var candidates = (\n                <ul className=\"list-group\">\n                    {candidateListing}\n                </ul>\n            );\n        }\n\n        var body = (\n            <div className=\"multiple-ticket-vote\">\n                {candidates}\n            </div>\n        );\n        return <Panel heading={heading} body={body}/>;\n    }\n\n});\n\nvar MultipleCandidateRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            firstName : '',\n            lastName : '',\n            picture : ''\n        };\n    },\n\n    render: function() {\n        var icon = <i className=\"pull-right text-success fa fa-check-circle fa-2x\"></i>;\n\n        var picture = <div className=\"no-photo\"><span>No photo</span></div>;\n\n        if (this.props.picture.length > 0) {\n            picture = <img className=\"img-circle\" src={this.props.picture}/>;\n        }\n\n        return (\n            <li className=\"list-group-item\" onClick={this.props.select}>\n                {icon}\n                {picture}\n                {this.props.firstName} {this.props.lastName}\n            </li>\n        );\n    }\n\n});\n\nvar ReferendumResult = React.createClass({\n    getDefaultProps: function() {\n        return {\n            vote : [],\n            resetStage : null\n        };\n    },\n\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    render: function() {\n        var rows = this.props.vote.map(function(value, key){\n            return <ReferendumResultRow key={key} {...value} resetStage={this.props.resetStage}/>;\n        }.bind(this));\n\n        var heading = (<h3>Referenda</h3>);\n\n        var body = (\n            <div>\n                {rows}\n            </div>\n        );\n\n        return <Panel heading={heading} body={body} />;\n    }\n});\n\nvar ReferendumResultRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n        };\n    },\n\n    render: function() {\n        var voted = '';\n        switch (this.props.answer) {\n            case 'yes':\n            voted = <span className=\"text-success\"><i className=\"fa fa-check-circle\"></i> Yes</span>;\n            break;\n\n            case 'no':\n            voted = <span className=\"text-danger\"><i className=\"fa fa-times-circle\"></i> No</span>;\n            break;\n\n            case 'abstain':\n            voted = <span className=\"text-primary\"><i className=\"fa fa-question-circle\"></i> Abstain</span>;\n            break;\n        }\n\n        return (\n            <div className=\"row referendum-result\">\n                <div className=\"col-sm-6\">{this.props.referendum.title}</div>\n                <div className=\"col-sm-3\">{voted}</div>\n                <div className=\"col-sm-3\">\n                    <button className=\"btn btn-block btn-default\"\n                        onClick={this.props.resetStage.bind(null, 'referendum', this.props.referendum.id)}>\n                        <i className=\"fa fa-pencil\"></i> Edit\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n});\n\nvar Referendum = React.createClass({\n    getDefaultProps: function() {\n        return {\n            election : {},\n            updateVote : null,\n            vote : [],\n            referendum : {}\n        };\n    },\n\n    render: function() {\n        var title = <h2>{this.props.referendum.title}</h2>;\n        var body = BreakIt(this.props.referendum.description);\n        var footer = (\n            <div className=\"row\">\n                <div className=\"col-sm-4\">\n                    <button className=\"btn btn-block btn-lg btn-default\"\n                        onClick={this.props.updateVote.bind(null, 'yes')}>\n                        <i className=\"fa fa-check\"></i> Yes\n                    </button>\n                </div>\n                <div className=\"col-sm-4\">\n                    <button className=\"btn btn-block btn-lg btn-default\"\n                        onClick={this.props.updateVote.bind(null, 'no')}>\n                        <i className=\"fa fa-times\"></i> No\n                    </button>\n                </div>\n                <div className=\"col-sm-4\">\n                    <button className=\"btn btn-block btn-lg btn-default\"\n                        onClick={this.props.updateVote.bind(null, 'abstain')}>\n                        Abstain\n                    </button>\n                </div>\n            </div>\n        );\n\n        return (\n            <Panel heading={title} body={body} footer={footer}/>\n        );\n    }\n\n});\n\nvar Multiple = React.createClass({\n    getDefaultProps: function() {\n        return {\n            election : {},\n            updateVote : null,\n            vote : [],\n            ballot : {},\n            unqualified : [],\n            supportLink : null\n        };\n    },\n\n    render: function() {\n        return <MultipleBallot multipleId={this.props.ballot.id}\n            {...this.props.ballot}\n            updateVote={this.props.updateVote}\n            vote={this.props.vote}\n            unqualified={this.props.unqualified} supportLink={this.props.supportLink}/>;\n    }\n});\n\nvar MultipleBallot = React.createClass({\n    getInitialState: function() {\n        return {\n            selectedRows : [],\n            totalSelected : 0\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            updateVote : null,\n            seatNumber : 2,\n            title : null,\n            candidates : [],\n            vote : null,\n            multipleId : 0,\n            supportLink : null\n        };\n    },\n\n    select : function(candidateId) {\n        var selectedRows = this.state.selectedRows;\n        var found = $.inArray(candidateId, selectedRows);\n        var totalSelected = this.state.totalSelected;\n        var totalSeats = this.props.seatNumber * 1;\n\n        if (found === -1) {\n            if (totalSelected !== totalSeats) {\n                totalSelected++;\n                selectedRows.push(candidateId);\n            }\n        } else {\n            if (totalSelected > 0) {\n                totalSelected--;\n            }\n            selectedRows.splice(found,1);\n        }\n\n        this.setState({\n            selectedRows : selectedRows,\n            totalSelected : totalSelected\n        });\n    },\n\n    saveVotes : function() {\n        this.props.updateVote(this.state.selectedRows);\n        this.setState({\n            selectedRows : [],\n            totalSelected : 0\n        });\n    },\n\n    render: function() {\n        var seatNumber = this.props.seatNumber * 1;\n        var candidates = this.props.candidates.map(function(value){\n            if ($.inArray(value.id, this.state.selectedRows) !== -1) {\n                var selected = true;\n            } else {\n                var selected = false;\n            }\n            return (\n                <MultipleCandidate key={value.id} {...value}\n                    selected={selected} select={this.select.bind(null, value.id)}/>\n            );\n        }.bind(this));\n\n        if (this.state.totalSelected > 0 ) {\n            var button = <button className=\"pull-right btn btn-success\" onClick={this.saveVotes}>Continue <i className=\"fa fa-arrow-right\"></i></button>;\n        } else {\n            var button = <button className=\"pull-right btn btn-warning\" onClick={this.saveVotes}>Abstain from {this.props.title} <i className=\"fa fa-arrow-right\"></i></button>;\n        }\n\n        var unqualified = null;\n        if (this.props.unqualified.length > 0) {\n            var supportLink = 'mailto:' + this.props.supportLink;\n            unqualified = (\n                <div className=\"row\">\n                    <div className=\"col-sm-6\">\n                        <p><strong>You were not qualified to vote in the following ballots\n                        because of your class, college, or organizational affiliation.</strong></p>\n                    <div style={{height:'300px', overflow:'auto'}}>\n                        <table className=\"table table-striped\">\n                            <tbody>\n                                {this.props.unqualified.map(function(value, key){\n                                    return <tr key={key}><td>{value}</td></tr>;\n                                    })}\n                            </tbody>\n                        </table>\n                    </div>\n                    </div>\n                    <div className=\"col-sm-6 well\">\n                        <div className=\"alert alert-danger\"><strong>Is there ballot you should be able to vote on?</strong></div>\n                        <ol>\n                            <li>STOP! Do not complete your vote</li>\n                            <li><a href={supportLink}><strong>click here</strong> and email your ASU username and the missing ballot name.</a></li>\n                        </ol>\n                        <p>We will check your account and get back to you.</p>\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"multiple-ticket-vote\">\n                <h2>{this.props.title}</h2>\n                <div className=\"container remaining-seats alert alert-success\">\n                    {button}You have selected {this.state.totalSelected} of the allowed {this.props.seatNumber} seat{this.props.seatNumber === '1'? null: 's'}.\n                </div>\n                <ul className=\"list-group\">\n                    {candidates}\n                </ul>\n                <hr />\n                <div>\n                    {button}\n                </div>\n                <div style={{clear : 'both'}}>\n                    {unqualified}\n                </div>\n            </div>\n        );\n    }\n});\n\nvar MultipleCandidate = React.createClass({\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            firstName : '',\n            lastName : '',\n            picture : '',\n            title : '',\n            selected : false,\n            select : null\n        };\n    },\n\n    render: function() {\n        if (this.props.selected) {\n            var _className = 'list-group-item pointer active';\n            var icon = <button className=\"pull-right btn btn-default btn-lg\"><i className=\"fa fa-check\"></i> Selected</button>;\n        } else {\n            var _className = 'list-group-item pointer';\n            var icon = <button className=\"pull-right btn btn-default btn-lg\">Select</button>;\n        }\n\n        var picture = <div className=\"no-photo\"><span>No photo</span></div>;\n\n        if (this.props.picture.length > 0) {\n            picture = <img className=\"img-circle\" src={this.props.picture}/>;\n        }\n\n        return (\n            <li className={_className} onClick={this.props.select}>\n                {icon}\n                {picture}\n                {this.props.firstName} {this.props.lastName}\n            </li>\n        );\n    }\n\n});\n\nvar Single = React.createClass({\n    getDefaultProps: function() {\n        return {\n            election : {},\n            updateVote : null,\n            vote : [],\n            ballot : {}\n        };\n    },\n\n    render: function() {\n        return <SingleBallot singleId={this.props.ballot.id} {...this.props.ballot}\n            updateVote={this.props.updateVote} vote={this.props.vote}/>;\n    }\n\n});\n\nvar SingleBallot = React.createClass({\n    getDefaultProps: function() {\n        return {\n            updateVote : null,\n            title : null,\n            tickets : [],\n            vote : null,\n            singleId : 0\n        };\n    },\n\n    render: function() {\n        var tickets = this.props.tickets.map(function(value){\n            return (<SingleBallotTicket key={value.id} {...value}\n                updateVote={this.props.updateVote.bind(null, value)}/>);\n        }.bind(this));\n        return (\n            <div className=\"single-ticket-vote\">\n                <h1>{this.props.title}</h1>\n                <p className=\"warning\">Vote for <strong>ONE</strong> ticket. We&#39;ll review your decision at the end.</p>\n                {tickets}\n                <hr />\n                <div className=\"text-right\">\n                    <AbstainButton title={this.props.title} handleClick={this.props.updateVote.bind(null, null)} />\n                </div>\n            </div>\n        );\n    }\n});\n\nvar SingleBallotTicket = React.createClass({\n    mixins : ['panel'],\n\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            title : null,\n            platform : null,\n            siteAddress : null,\n            candidates : [],\n            updateVote : null,\n            vote : []\n        };\n    },\n\n    render: function() {\n        var candidateCount = this.props.candidates.length;\n        if (candidateCount > 0) {\n            var candidates = this.props.candidates.map(function(value){\n                return <SingleCandidate key={value.id} {...value} candidateLength={candidateCount} />;\n            }.bind(this));\n        } else {\n            var candidates = null;\n        }\n\n        var heading = <h2>{this.props.title}</h2>;\n\n        var platform = BreakIt(this.props.platform);\n\n        var website = null;\n\n        if (this.props.siteAddress.length) {\n            website = <div className=\"website\"><a href={this.props.siteAddress} target=\"_blank\">{this.props.siteAddress} <i className=\"fa fa-external-link\"></i></a></div>;\n        }\n\n        var body = (\n            <div className=\"ticket\">\n                <div className=\"row\">\n                    <div className=\"col-sm-6\">\n                        {platform}\n                        <hr />\n                        {website}\n                    </div>\n                        {candidates}\n                </div>\n                <button className=\"btn btn-primary btn-block btn-lg\" onClick={this.props.updateVote}>\n                    <i className=\"fa fa-check-square-o\"></i> Vote for {this.props.title}\n                </button>\n            </div>\n        );\n\n        return (\n            <Panel heading={heading} body={body}/>\n        );\n    }\n\n});\n\nvar SingleCandidate = React.createClass({\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            firstName : '',\n            lastName : '',\n            picture : '',\n            title : '',\n            candidateLength : 1\n        };\n    },\n\n    render: function() {\n        switch (this.props.candidateLength) {\n            case 1:\n            var colSize = 'col-sm-6';\n            break;\n            case 2:\n            var colSize = 'col-sm-3';\n        }\n        return (\n            <div className={colSize}>\n                <div>\n                    {this.props.picture.length > 0 ? (\n                        <div className=\"photo-matte\">\n                            <span className=\"helper\"></span>\n                            <img src={this.props.picture} className=\"img-responsive candidate\" />\n                        </div>\n                    ) : (\n                        <div className=\"no-picture text-muted\"><i className=\"fa fa-user fa-5x\"></i><br />No picture</div>\n                    )}\n                </div>\n                <p><strong>{this.props.firstName} {this.props.lastName}</strong><br />\n                {this.props.title}</p>\n            </div>\n        );\n    }\n\n});\n\n'use strict';\n\nvar Election = React.createClass({\n    getInitialState: function() {\n        return {\n            election : null,\n            currentSingle : 0,\n            currentMultiple : 0,\n            currentReferendum : 0,\n            single : [],\n            multiple : [],\n            referendum : [],\n            ballotCount : 0,\n            referendumCount : 0,\n            stage : 'loading',\n            singleVote : [],\n            multipleVote : [],\n            referendumVote : [],\n            unqualified : [],\n            backToReview : false,\n            surveyLink : null,\n            supportLink : null\n        };\n    },\n\n    componentDidMount: function() {\n        this.load();\n    },\n\n    load: function() {\n        $.getJSON('election/User/Election', {\n        \tcommand : 'list'\n        }).done(function(data){\n            var stage = this.state.stage;\n            if (!data.election) {\n                this.setStage('empty');\n            } else if (data.hasVoted) {\n                this.setState({\n                    stage : 'finished',\n                    election : data.election\n                });\n            } else {\n                var singleLength = data.single.length;\n                var multipleLength = data.multiple.length;\n                var referendumLength = data.referendum.length;\n                console.log(singleLength);\n                console.log(multipleLength);\n                console.log(referendumLength);\n                /* If there are no single-type elections, then skip to multiple type */\n                if (singleLength === 0) {\n                    if (multipleLength === 0) {\n                        if (referendumLength === 0) {\n                            stage = 'empty';\n                        } else {\n                            stage = 'referendum';\n                        }\n                    } else {\n                        stage = 'multiple';\n                    }\n                } else {\n                    stage = 'single';\n                }\n                var ballotCount = singleLength + multipleLength;\n                this.setState({\n                    stage : stage,\n                    hasVoted : data.hasVoted,\n                    election : data.election,\n                    single : data.single,\n                    multiple : data.multiple,\n                    referendum : data.referendum,\n                    ballotCount : ballotCount,\n                    referendumCount : referendumLength,\n                    unqualified : data.unqualified,\n                    supportLink : data.supportLink\n                });\n            }\n\n        }.bind(this));\n    },\n\n    setStage : function(stage) {\n        window.scrollTo(0,0);\n        this.setState({\n            stage : stage\n        });\n    },\n\n    getSingleKey : function(id) {\n        var found = 0;\n        $.each(this.state.single, function(index, value){\n            if (id === value.id) {\n                found = index;\n            }\n        });\n        return found;\n    },\n\n    getMultipleKey : function(id) {\n        var found = 0;\n        $.each(this.state.multiple, function(index, value){\n            if (id === value.id) {\n                found = index;\n            }\n        });\n        return found;\n    },\n\n    getReferendumKey : function(id) {\n        var found = 0;\n        $.each(this.state.referendum, function(index, value){\n            if (id === value.id) {\n                found = index;\n            }\n        });\n        return found;\n    },\n\n    setCurrentSingle : function(id) {\n        this.setState({\n            currentSingle : id\n        });\n    },\n\n    setCurrentMultiple : function(id) {\n        this.setState({\n            currentMultiple : id\n        });\n    },\n\n    setCurrentReferendum : function(id) {\n        this.setState({\n            currentReferendum : id\n        });\n    },\n\n    resetStage : function(stage, id) {\n        switch(stage) {\n            case 'single':\n            this.setCurrentSingle(this.getSingleKey(id));\n            break;\n\n            case 'multiple':\n            this.setCurrentMultiple(this.getMultipleKey(id));\n            break;\n\n            case 'referendum':\n            this.setCurrentReferendum(this.getReferendumKey(id));\n            break;\n        }\n        this.setState({\n            backToReview : true,\n            stage : stage\n        });\n    },\n\n    updateSingleVote : function(ticket) {\n        var stage = this.state.stage;\n        var current = this.state.currentSingle;\n        var nextSingle = current + 1;\n        var singleVote = this.state.singleVote;\n        var currentVote = singleVote[current];\n        currentVote = {\n            single : this.state.single[this.state.currentSingle],\n            ticket : ticket\n        };\n        singleVote[current] = currentVote;\n\n        if (this.state.backToReview) {\n            stage = 'review';\n        } else if (typeof this.state.single[nextSingle] === 'undefined') {\n            if (this.state.multiple.length > 0) {\n                stage = 'multiple';\n            } else if (this.state.referendum.length > 0) {\n                stage = 'referendum';\n            } else {\n                stage = 'review';\n            }\n        }\n        window.scrollTo(0,0);\n        this.setState({\n            stage : stage,\n            singleVote : singleVote,\n            currentSingle : nextSingle\n        });\n    },\n\n    updateMultipleVote: function(chairs) {\n        var stage = this.state.stage;\n        var current = this.state.currentMultiple;\n        var nextMultiple = current + 1;\n        var multipleVote = this.state.multipleVote;\n        var currentVote = multipleVote[current];\n\n        currentVote = {\n            multiple : this.state.multiple[current],\n            chairs : chairs\n        };\n\n        multipleVote[current] = currentVote;\n\n        window.scrollTo(0,0);\n        if (this.state.backToReview) {\n            stage = 'review';\n        } else if (typeof this.state.multiple[nextMultiple] === 'undefined') {\n            if (this.state.referendum.length > 0) {\n                stage = 'referendum';\n            } else {\n                stage = 'review';\n            }\n        }\n\n        this.setState({\n            stage : stage,\n            multipleVote : multipleVote,\n            currentMultiple : nextMultiple\n        });\n    },\n\n    updateReferendumVote : function(vote) {\n        var stage = this.state.stage;\n        var current = this.state.currentReferendum;\n        var nextReferendum = current + 1;\n        var referendumVote = this.state.referendumVote;\n        var currentVote = referendumVote[current];\n\n        currentVote = {\n            referendum : this.state.referendum[current],\n            answer : vote\n        };\n\n        referendumVote[current] = currentVote;\n\n        window.scrollTo(0,0);\n        if (this.state.backToReview) {\n            stage = 'review';\n        } else if (typeof this.state.referendum[nextReferendum] === 'undefined') {\n            stage = 'review';\n        }\n\n        this.setState({\n            stage : stage,\n            referendumVote : referendumVote,\n            currentReferendum : nextReferendum\n        });\n    },\n\n    finalVote : function() {\n        var singleResult = [];\n        $.each(this.state.singleVote, function(index, value){\n            if (value.single && typeof value.single.id !== 'undefined' &&\n                value.ticket && typeof value.ticket.id !== 'undefined') {\n                singleResult.push({\n                    singleId : value.single.id,\n                    ticketId : value.ticket.id\n                });\n            }\n        });\n\n        var multipleResult = [];\n        $.each(this.state.multipleVote, function(index, value){\n            multipleResult.push({\n                multipleId : value.multiple.id,\n                chairs : value.chairs\n            });\n        });\n\n        var referendumResult = [];\n        $.each(this.state.referendumVote, function(index, value){\n            referendumResult.push({\n                referendumId : value.referendum.id,\n                answer : value.answer\n            });\n        });\n        $.post('election/User/Vote', {\n            command : 'save',\n            electionId : this.state.election.id,\n            single : singleResult,\n            multiple : multipleResult,\n            referendum : referendumResult\n        }, null, 'json')\n            .done(function(data){\n                if (data.success === true) {\n                    this.setState({\n                        backToReview : false,\n                        stage : 'finished',\n                        surveyLink : data.surveyLink\n                    });\n                } else {\n                    this.setState({\n                        backToReview : false,\n                        stage : 'failure'\n                    });\n                }\n            }.bind(this))\n            .fail(function(data){\n                this.setStage('failure');\n            }.bind(this));\n    },\n\n    render: function() {\n        var content = null;\n        var review = null;\n\n        if (this.state.backToReview) {\n            review = <button className=\"btn btn-lg btn-block btn-info\" onClick={this.setStage.bind(null, 'review')}>Return to review without saving</button>\n        }\n\n        switch (this.state.stage) {\n            case 'loading':\n            content = <div className=\"text-center pad-top\"><i className=\"fa fa-spinner fa-spin fa-5x\"></i></div>;\n            break;\n\n            case 'empty':\n            content = <Empty />;\n            break;\n\n            case 'finished':\n            content = <Finished election={this.state.election} surveyLink={this.state.surveyLink}/>;\n            break;\n\n            case 'single':\n            content = <Single election={this.state.election}\n                ballot={this.state.single[this.state.currentSingle]}\n                updateVote={this.updateSingleVote} vote={this.state.singleVote}/>;\n            break;\n\n            case 'multiple':\n            content = <Multiple election={this.state.election}\n                ballot={this.state.multiple[this.state.currentMultiple]}\n                updateVote={this.updateMultipleVote} vote={this.state.multipleVote}\n                unqualified={this.state.unqualified} supportLink={this.state.supportLink}/>\n            break;\n\n            case 'referendum':\n            content = <Referendum election={this.state.election}\n                referendum={this.state.referendum[this.state.currentReferendum]}\n                updateVote={this.updateReferendumVote} vote={this.state.referendumVote}/>\n            break;\n\n            case 'failure':\n                content = <Failure />;\n            break;\n\n            case 'review':\n            review = null;\n            content = <Review election={this.state.election}\n                single={this.state.single}\n                multiple={this.state.multiple}\n                referendum={this.state.referendum}\n                singleVote={this.state.singleVote}\n                multipleVote={this.state.multipleVote}\n                referendumVote={this.state.referendumVote}\n                finalVote={this.finalVote}\n                resetStage={this.resetStage}/>\n            break;\n        }\n\n        var countdown = null;\n\n        if (this.state.stage === 'single' && this.state.singleVote.length === 0\n            && this.state.multipleVote.length === 0\n            && this.state.referendumVote.length === 0) {\n            countdown = (<Countdown ballotCount={this.state.ballotCount} referendumCount={this.state.referendumCount}/>);\n        }\n\n        return (\n            <div>\n                {countdown}\n                {review}\n                {content}\n            </div>\n        );\n    }\n\n});\n\nvar Empty = function() {\n    return (\n        <div>\n            <h3>No elections are available. Please check back later.</h3>\n        </div>\n    );\n}\n\nvar Finished = React.createClass({\n    getDefaultProps: function() {\n        return {\n            election : {},\n            surveyLink : null\n        };\n    },\n\n    render: function() {\n        return (\n            <div className=\"row\">\n                <div className=\"col-sm-6 col-sm-offset-3\">\n                    <div className=\"well text-center\">\n                        <h2>{this.props.election.title}</h2>\n                        <h3>Thank you for voting! Watch SGA for results.</h3>\n                        <a href=\"./index.php?module=users&action=user&command=logout\" className=\"btn btn-lg btn-primary\">Sign out</a>\n                        <hr />\n                        <p>What do you think about the voting process? <a href={this.props.surveyLink}>Let us know!</a></p>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n});\n\nvar Countdown = React.createClass({\n    getInitialState: function() {\n        return {\n            seen : false\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            ballotCount : 0,\n            referendumCount : 0,\n            vote : null\n        };\n    },\n\n    plural: function(item, single, plural) {\n        if (typeof single === 'undefined' || single.length === 0) {\n            single = '';\n        }\n        if (typeof plural === 'undefined' || plural.length === 0) {\n            plural = 's';\n        }\n        return (item != 1 ? plural : single);\n    },\n\n    render: function() {\n        var ballots = null;\n        var referendum = null;\n        var totalItems = 0;\n        var isAre = 'are';\n        var and = '';\n\n        if (this.props.ballotCount > 0) {\n            totalItems += this.props.ballotCount;\n            ballots = this.props.ballotCount + ' ballot' + this.plural(this.props.ballotCount);\n        }\n\n        if (this.props.referendumCount > 0) {\n            totalItems += this.props.referendumCount;\n            referendum = this.props.referendumCount + ' referend' + this.plural(this.props.referendumCount, 'um', 'a')\n        }\n\n        if (totalItems < 2) {\n            isAre = 'is';\n        }\n\n        if (this.props.ballotCount > 0 && this.props.referendumCount > 0) {\n            and = 'and';\n        }\n\n        return (\n            <div className=\"alert alert-info\">\n                There {isAre} currently {ballots} {and} {referendum} for you to vote on. We will review all your selections later, before your votes are submitted.\n            </div>\n        );\n    }\n\n});\n\nvar Failure = React.createClass({\n    render: function() {\n        return (\n            <div>\n                <h2>Sorry</h2>\n                <p>Your vote failed to register. Please try again or report the problem.</p>\n            </div>\n        );\n    }\n\n});\n\nReactDOM.render(<Election/>, document.getElementById('election'));\n"]}